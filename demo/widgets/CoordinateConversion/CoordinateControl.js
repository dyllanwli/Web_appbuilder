// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/CoordinateConversion/CoordinateControl.html":"\x3cdiv class\x3d'coordinateContainer'\x3e\r\n    \x3cdiv class\x3d'add-with-icon coordLabel' data-dojo-attach-point\x3d'coordNameContainer'\x3e\r\n      \x3cspan data-dojo-type\x3d'dijit/InlineEditBox' width\x3d'75px' data-dojo-props\x3d\"editor:'dijit/form/TextBox', autoSave:true\" data-dojo-attach-point\x3d'coordName'\x3e${type}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n        \x3ctextarea id\x3d'${uid}' type\x3d'text' rows\x3d'1' class\x3d'ta' data-dojo-attach-point\x3d'coordtext' placeholder\x3d'${nls.coordinateInputLabel}'\x3e\x3c/textarea\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d'coordactions'\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan id\x3d'${uid}_cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'cpbtn' class\x3d'cpbtn'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d\"${nls.formatOutput}\" class\x3d'settingBtn' data-dojo-attach-point\x3d'formatButton' \x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan id\x3d'${uid}_ntbtn' title\x3d'${nls.addNewNotation}' data-dojo-attach-point\x3d\"addNewCoordinateNotationBtn\" class\x3d\"jimu-icon jimu-icon-add jimu-state-disabled\"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d'${nls.zoomLabel}' class\x3d'zoomBtn' data-dojo-attach-point\x3d'zoomButton'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d'${nls.removeCoordinate}' class\x3d'jimu-icon jimu-icon-close' data-dojo-attach-point\x3d'removeControlBtn' \r\n                    data-dojo-attach-event\x3d'onclick: remove'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d'add-with-icon'\x3e\r\n            \x3cspan title\x3d\"${nls.expandOutput}\" class\x3d'expandBtn' data-dojo-attach-point\x3d'expandButton'\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv data-dojo-attach-point\x3d'coordcontrols' class\x3d'coordarea'\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub1' class\x3d'coordformat'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                \x3cspan data-dojo-attach-point\x3d'sub1label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub1val' class\x3d'jimu-input crds'\x3e\x3c/input\x3e\r\n            \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub1val~cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d 'subVal1CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub2' class\x3d'coordformat'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                \x3cspan data-dojo-attach-point\x3d'sub2label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub2val' class\x3d'jimu-input crds'\x3e\x3c/input\x3e\r\n             \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub2val~cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d 'subVal2CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub3' class\x3d'coordformat sub3'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                 \x3cspan data-dojo-attach-point\x3d'sub3label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub3val' class\x3d'jimu-input crds'\x3e\r\n\r\n            \x3c/input\x3e\r\n             \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub3val~cpbtn' title\x3d'$${nls.copyToClipboard}' data-dojo-attach-point\x3d 'subVal3CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d'sub4' class\x3d'coordformat sub4'\x3e\r\n            \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n                \x3cspan data-dojo-attach-point\x3d'sub4label' /\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput readonly data-dojo-attach-point\x3d'${uid}sub4val' class\x3d'jimu-input crds'\x3e\r\n\r\n            \x3c/input\x3e\r\n             \x3cdiv class\x3d'add-with-icon'\x3e\r\n                \x3cspan id\x3d'${uid}sub4val~cpbtn' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'subVal4CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d\"line-separator\"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n"}});
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/dom-attr dojo/dom-class dojo/dom-style dojo/string dojo/topic dojo/keys dojo/dom dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Tooltip dijit/TooltipDialog dijit/popup dojo/text!./CoordinateControl.html esri/geometry/webMercatorUtils esri/graphic esri/geometry/Point esri/SpatialReference ./util jimu/dijit/Message ./EditOutputCoordinate ./dialogConfirm ./ConfirmNotation dijit/form/TextBox dijit/form/Textarea dijit/form/Select dijit/InlineEditBox".split(" "),
function(v,z,d,k,q,f,n,m,g,A,B,C,D,E,F,w,x,G,r,H,I,y,J,K,L,u,M,N,O){return v([D,E,F],{templateString:H,baseClass:"jimu-widget-cc",input:!0,inputFromText:!1,hasCustomLabel:!1,widgetInfo:null,constructor:function(a){v.safeMixin(this,a);this.uid=a.id||w.getUniqueId("cc")},parentStateDidChange:function(a){"opened"===a.state||"active"===a.state?this.mapclickhandler.resume():this.mapclickhandler.pause();this.widgetInfo={widgetState:a.state,themeName:a.themeName,isActive:a.isActive}},postCreate:function(){this._frmtdlg=
new G({id:this.uid+"_formatCoordinateTooltip",content:new M({nls:this.nls}),style:"width: 400px",onClose:d.hitch(this,this.popupDidClose)});"DartTheme"===this.parentWidget.appConfig.theme.name&&f.add(this._frmtdlg.domNode,"dartThemeClaroDijitTooltipContainerOverride");this.defaultFormat&&(this._frmtdlg.content.formats[this.type].defaultFormat=this.defaultFormat);this.setConfig();this.initUI();this.currentClickPoint&&this.updateDisplay()},setConfig:function(){this.util=new L({appConfig:this.parentWidget.appConfig});
this.geomsrvc=this.util.geomService;this.zoomScale=this.parentWidget.config.coordinateconversion.zoomScale||5E4},initUI:function(){if(this.input){this.setHidden(this.expandButton,!0);this.setHidden(this.removeControlBtn,!0);this.setHidden(this.coordNameContainer,!1);this.setHidden(this.addNewCoordinateNotationBtn,!0);f.add(this.cpbtn,"inputCopyBtn");q.set(this.cpbtn,"title",this.nls.copyAll);var a=this.parentWidget.map.extent.getCenter();this.parentWidget.coordGLayer.add(new y(a));this.currentClickPoint=
this.getDDPoint(a);this.formatButton.title=this.nls.formatInput}else f.remove(this.domNode,"coordinateContainer"),f.add(this.domNode,"outputCoordinateContainer"),f.add(this.cpbtn,"outputCopyBtn"),this.setHidden(this.addNewCoordinateNotationBtn,!0),this.setHidden(this.zoomButton,!0),this.coordtext.readOnly=!0;this.setUIListeners()},setUIListeners:function(){g.subscribe("CRDWIDGETSTATEDIDCHANGE",d.hitch(this,this.parentStateDidChange));g.subscribe("INPUTPOINTDIDCHANGE",d.hitch(this,this.mapWasClicked));
g.subscribe("INPUTERROR",d.hitch(this,this.inputError));this.own(k(this.expandButton,"click",d.hitch(this,this.expandButtonWasClicked)));this.own(k(this.addNewCoordinateNotationBtn,"click",d.hitch(this,this.newCoordnateBtnWasClicked)));this.own(k(this.zoomButton,"click",d.hitch(this,this.zoomButtonWasClicked)));this.own(this.coordName.on("blur",d.hitch(this,this.coordNameDidChange)));this.cpbtn.addEventListener("click",d.hitch(this,this.cpBtnWasClicked));this.subVal1CpBtn.addEventListener("click",
d.hitch(this,this.cpSubBtnWasClicked));this.subVal2CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.subVal3CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.subVal3CpBtn.addEventListener("click",d.hitch(this,this.cpSubBtnWasClicked));this.mapclickhandler=k.pausable(this.parentWidget.map,"click",d.hitch(this,this.mapWasClicked));this.own(k(this.formatButton,"click",d.hitch(this,this.formatButtonWasClicked)));this.own(k(this._frmtdlg.content.applyButton,
"click",d.hitch(this,function(){this.updateDisplay();this.hasCustomLabel||this._frmtdlg.content.formats[this._frmtdlg.content.ct].useCustom||this.coordName.set("value",this._frmtdlg.content.ct);r.close(this._frmtdlg)})));this.own(k(this._frmtdlg.content.cancelButton,"click",d.hitch(this,function(){r.close(this._frmtdlg)})));this.own(k(this.coordtext,"keyup",d.hitch(this,this.coordTextInputKeyWasPressed)));this.own(this.geomsrvc.on("error",d.hitch(this,this.geomSrvcDidFail)))},popupDidClose:function(){if(!this._frmtdlg.content.isCanceled){var a=
this._frmtdlg.content.frmtSelect.options[this._frmtdlg.content.frmtSelect.selectedIndex].value;this.type!==a&&(this.type=a,this.updateDisplay())}},coordNameDidChange:function(){this.hasCustomLabel=!0},cpSubBtnWasClicked:function(a){var e;this[a.currentTarget.id.split("~")[0]].select();try{e=document.execCommand("copy")}catch(c){e=!1}this.showToolTip(a.currentTarget.id,e?this.nls.copySuccessful:this.nls.copyFailed)},cpBtnWasClicked:function(a){a.preventDefault();var e,c;if(this.input){a=w.toArray().filter(function(a){return"jimu-widget-cc"===
a.baseClass&&!a.input});a.reverse();c=a.map(function(a){return a.coordtext.value}).join("\r\n");a=this.coordtext.value;this.coordtext.value=a+"\r\n"+c;this.coordtext.select();try{e=document.execCommand("copy")}catch(b){e=!1}this.coordtext.value=a}else{this.coordtext.select();try{e=document.execCommand("copy")}catch(b){e=!1}}this.showToolTip(this.cpbtn.id,e?this.nls.copySuccessful:this.nls.copyFailed)},cpCoordPart:function(){},showToolTip:function(a,e){var c=B.byId(a);x.show(e,c);setTimeout(function(){x.hide(c)},
1E3)},geomSrvcDidComplete:function(a){0>=a[0].length?(new u({message:this.nls.parseCoordinatesError}),g.publish("INPUTERROR")):(this.currentClickPoint=new J(a[0][0],a[0][1],new K({wkid:4326})),this.input&&(this.parentWidget.map.centerAt(this.currentClickPoint),g.publish("INPUTPOINTDIDCHANGE",{mapPoint:this.currentClickPoint,inputFromText:!0})))},geomSrvcDidFail:function(){new u({message:this.nls.parseCoordinatesError});g.publish("INPUTERROR")},coordTextInputKeyWasPressed:function(a){if(a.keyCode===
A.ENTER){var e=this.util.getCleanInput(a.currentTarget.value);this.util.getCoordinateType(e).then(d.hitch(this,function(a){if(a)if(1===a.length){var b=this.processCoordTextInput(e,a[0],!1);this.util.getXYNotation(b,a[0].conversionType).then(d.hitch(this,function(a){0<a[0].length?this.geomSrvcDidComplete(a):this.geomSrvcDidFail()}))}else{var c=new N({title:this.nls.comfirmInputNotation,content:new O(a),style:"width: 400px",hasSkipCheckBox:!1});c.show().then(d.hitch(this,function(){var b=z.filter(a,
function(a){return a.name===c.content.comboOptions.get("value")}),h=this.processCoordTextInput(e,b[0],!1);this.util.getXYNotation(h,b[0].conversionType).then(d.hitch(this,function(a){0<a[0].length?this.geomSrvcDidComplete(a):this.geomSrvcDidFail()}))},function(){}))}else new u({message:this.nls.parseCoordinatesError}),g.publish("INPUTERROR")}));q.set(this.coordtext,"value",e)}},processCoordTextInput:function(a,e,c){var b=e.pattern.exec(a),h,d,l,f,g,p,k,m,n,q,r=!1,t=e.name;switch(e.name){case "DD":h=
b[2];d=b[7];l=b[10];f=b[16];g=b[3].replace(/[,:]/,".");p=b[11].replace(/[,:]/,".");t="DD";break;case "DDrev":h=b[11];d=b[16];l=b[2];f=b[8];g=b[12].replace(/[,:]/,".");p=b[3].replace(/[,:]/,".");t="DD";break;case "DDM":h=b[2];d=b[7];l=b[10];f=b[15];g=b[3];k=b[4].replace(/[,:]/,".");p=b[11];m=b[12].replace(/[,:]/,".");t="DDM";break;case "DDMrev":h=b[10];d=b[15];l=b[2];f=b[7];g=b[11];k=b[12].replace(/[,:]/,".");p=b[3];m=b[4].replace(/[,:]/,".");t="DDM";break;case "DMS":h=b[2];d=b[8];l=b[11];f=b[17];
g=b[3];k=b[4];n=b[5].replace(/[,:]/,".");p=b[12];m=b[13];q=b[14].replace(/[,:]/,".");t="DMS";break;case "DMSrev":h=b[11],d=b[17],l=b[2],f=b[8],g=b[12],k=b[13],n=b[14].replace(/[,:]/,"."),p=b[3],m=b[4],q=b[5].replace(/[,:]/,"."),t="DMS"}h&&d?(r=!0,h=(new RegExp(/[Ss-]/)).test(h)?"-":"+"):h=h&&(new RegExp(/[Ss-]/)).test(h)?"-":d&&(new RegExp(/[Ss-]/)).test(d)?"-":"+";l&&f?(r=!0,l=(new RegExp(/[Ww-]/)).test(l)?"-":"+"):l=l&&(new RegExp(/[Ww-]/)).test(l)?"-":f&&(new RegExp(/[Ww-]/)).test(f)?"-":"+";r&&
(c||new u({message:this.nls.latLongWarningMessage}));switch(t){case "DD":a=h+g+","+l+p;break;case "DDM":a=h+g+" "+k+","+l+p+" "+m;break;case "DMS":a=h+g+" "+k+" "+n+","+l+p+" "+m+" "+q}return a},zoomButtonWasClicked:function(){this.input&&(this.parentWidget.map.getZoom()<this.zoomScale?this.parentWidget.map.centerAt(this.currentClickPoint).then(d.hitch(this,function(){this.parentWidget.map.setScale(this.zoomScale)})):this.parentWidget.map.centerAt(this.currentClickPoint))},typeSelectDidChange:function(){this.currentClickPoint&&
this.updateDisplay()},newCoordnateBtnWasClicked:function(a){var e={};e.notation=this.type;e.defaultFormat=this.defaultFormat;this.showToolTip(a.currentTarget.id,this.nls.notationAddedMessage);g.publish("ADDNEWNOTATION",e)},setHidden:function(a,e){n.set(a,"display","none");e&&C.destroy(a.parentNode)},setVisible:function(a){n.set(a,"display","inline-flex")},remove:function(){g.publish("REMOVECONTROL",this)},mapWasClicked:function(a){var e=!1;"active"!==this.widgetInfo.widgetState&&"opened"!==this.widgetInfo.widgetState||
!this.widgetInfo.isActive||"DashboardTheme"!==this.widgetInfo.themeName||(e=!0);"opened"===this.widgetInfo.widgetState&&"DashboardTheme"!==this.widgetInfo.themeName&&(e=!0);this.widgetInfo.isActive&&"DashboardTheme"===this.widgetInfo.themeName&&(e=!0);e&&(this.currentClickPoint=this.getDDPoint(a.mapPoint),this.inputFromText=a.inputFromText?!0:!1,this.updateDisplay())},getDDPoint:function(a){return 102100===a.spatialReference.wkid?I.webMercatorToGeographic(a):a},expandButtonWasClicked:function(){f.toggle(this.coordcontrols,
"expanded");f.contains(this.coordcontrols,"expanded")?(f.remove(this.expandButton,"expandBtn"),f.add(this.expandButton,"collapseBtn")):(f.remove(this.expandButton,"collapseBtn"),f.add(this.expandButton,"expandBtn"));this.setSubCoordUI(f.contains(this.coordcontrols,"expanded"))},formatButtonWasClicked:function(){this._frmtdlg.content.set("ct",this.type);r.open({popup:this._frmtdlg,around:this.formatButton})},setSubCoordUI:function(a){if(a){a="165px";switch(this.type){case "DD":case "DMS":case "DDM":this.sub1label.innerHTML=
"Lat";this.sub2label.innerHTML="Lon";this.setHidden(this.sub3,!1);this.setHidden(this.sub4,!1);a="90px";break;case "GARS":this.sub1label.innerHTML="Lon";this.sub2label.innerHTML="Lat";this.sub3label.innerHTML="Quadrant";this.sub4label.innerHTML="Key";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "GEOREF":this.sub1label.innerHTML="15\u00b0 Quad";this.sub2label.innerHTML="1\u00b0 Quad";this.sub3label.innerHTML="Easting";this.setVisible(this.sub3);this.sub4label.innerHTML="Northing";
this.setVisible(this.sub4);break;case "USNG":case "MGRS":this.sub1label.innerHTML="GZD";this.sub2label.innerHTML="Grid Sq";this.sub3label.innerHTML="Easting";this.sub4label.innerHTML="Northing";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "UTM":this.sub1label.innerHTML="Zone";this.sub2label.innerHTML="Band";this.sub3label.innerHTML="Easting";this.sub4label.innerHTML="Northing";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "UTM (H)":this.sub1label.innerHTML="Zone",
this.sub2label.innerHTML="Hemisphere",this.sub3label.innerHTML="Easting",this.sub4label.innerHTML="Northing",this.setVisible(this.sub3),this.setVisible(this.sub4)}n.set(this.coordcontrols,"height",a);n.set(this.coordcontrols,"width","300px")}else n.set(this.coordcontrols,"height","0px")},setCoordUI:function(a){var e;if(a){var c=this.uid.split("_")[1];if(!this["cc_"+c+"sub1val"]||this.input&&this.inputFromText)return;var b;b=this._frmtdlg.content.formats[this.type];var d=this._frmtdlg.content.addSignChkBox.checked;
b=b.useCustom?b.customFormat:b.defaultFormat;switch(this.type){case "DD":a=this.util.getFormattedDDStr(a,b,d);this["cc_"+c+"sub1val"].value=m.substitute("${xcrd}",{xcrd:a.latdeg});this["cc_"+c+"sub2val"].value=m.substitute("${ycrd}",{ycrd:a.londeg});e=a.formatResult;break;case "DDM":a=this.util.getFormattedDDMStr(a,b,d);this["cc_"+c+"sub1val"].value=m.substitute("${latd} ${latm}",{latd:a.latdeg,latm:a.latmin});this["cc_"+c+"sub2val"].value=m.substitute("${lond} ${lonm}",{lond:a.londeg,lonm:a.lonmin});
e=a.formatResult;break;case "DMS":a=this.util.getFormattedDMSStr(a,b,d);this["cc_"+c+"sub1val"].value=m.substitute("${latd} ${latm} ${lats}",{latd:a.latdeg,latm:a.latmin,lats:a.latsec});this["cc_"+c+"sub2val"].value=m.substitute("${lond} ${lonm} ${lons}",{lond:a.londeg,lonm:a.lonmin,lons:a.lonsec});e=a.formatResult;break;case "USNG":a=this.util.getFormattedUSNGStr(a,b,d);this["cc_"+c+"sub1val"].value=a.gzd;this["cc_"+c+"sub2val"].value=a.grdsq;this["cc_"+c+"sub3val"].value=a.easting;this["cc_"+c+
"sub4val"].value=a.northing;e=a.formatResult;break;case "MGRS":a=this.util.getFormattedMGRSStr(a,b,d);this["cc_"+c+"sub1val"].value=a.gzd;this["cc_"+c+"sub2val"].value=a.grdsq;this["cc_"+c+"sub3val"].value=a.easting;this["cc_"+c+"sub4val"].value=a.northing;e=a.formatResult;break;case "GARS":a=this.util.getFormattedGARSStr(a,b,d);this["cc_"+c+"sub1val"].value=a.lon;this["cc_"+c+"sub2val"].value=a.lat;this["cc_"+c+"sub3val"].value=a.quadrant;this["cc_"+c+"sub4val"].value=a.key;e=a.formatResult;break;
case "GEOREF":a=this.util.getFormattedGEOREFStr(a,b,d);this["cc_"+c+"sub1val"].value=a.lon+a.lat;this["cc_"+c+"sub2val"].value=a.quadrant15lon+a.quadrant15lat;this["cc_"+c+"sub3val"].value=a.quadrant1lon;this["cc_"+c+"sub4val"].value=a.quadrant1lat;e=a.formatResult;break;case "UTM":a=this.util.getFormattedUTMStr(a,b,d);a.bandLetter.match(/^[AaBbYyZz]/)?(this["cc_"+c+"sub1val"].value="",this["cc_"+c+"sub2val"].value="",this["cc_"+c+"sub3val"].value="",this["cc_"+c+"sub4val"].value="",a.formatResult=
""):(this["cc_"+c+"sub1val"].value=a.zone,this["cc_"+c+"sub2val"].value=a.bandLetter,this["cc_"+c+"sub3val"].value=a.easting,this["cc_"+c+"sub4val"].value=a.westing);e=a.formatResult;break;case "UTM (H)":a=this.util.getFormattedUTMHStr(a,b,d),a.hemisphere.match(/^[AaBbYyZz]/)?(this["cc_"+c+"sub1val"].value="",this["cc_"+c+"sub2val"].value="",this["cc_"+c+"sub3val"].value="",this["cc_"+c+"sub4val"].value="",a.formatResult=""):(this["cc_"+c+"sub1val"].value=a.zone,this["cc_"+c+"sub2val"].value=a.hemisphere,
this["cc_"+c+"sub3val"].value=a.easting,this["cc_"+c+"sub4val"].value=a.westing),e=a.formatResult}}else e="";this.setSubCoordUI(f.contains(this.coordcontrols,"expanded"));this.coordtext&&q.set(this.coordtext,"value",e)},getFormattedCoordinates:function(){this.util.getCoordValues(this.currentClickPoint,this.type,4).then(d.hitch(this,function(a){this.setCoordUI(a)}),d.hitch(this,function(a){console.log(a)}))},updateDisplay:function(){this.getFormattedCoordinates(this.currentClickPoint);this.input&&
(this.parentWidget.coordGLayer.clear(),this.parentWidget.coordGLayer.add(new y(this.currentClickPoint)))},inputError:function(){this.setCoordUI()}})});